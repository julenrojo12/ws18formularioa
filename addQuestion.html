<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ADD QUESTION</title>
		<link rel="stylesheet" href="styles/main-styles.css"/>
		<!-- <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/A726214D-AE8F-2043-B654-2F94B663948B/main.js" charset="UTF-8"></script><link rel="stylesheet" crossorigin="anonymous" href="https://gc.kis.v2.scr.kaspersky-labs.com/1C55950A-D85B-CC4E-AC95-386C1CF2F9E7/abn/main.css"/>-->
	</head>

	<script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
	<script>
	 
	 $(document).ready(function(){
	 
		$("#galderenF").submit(function(){
	 
			//guztiak bete direla
			hutsik = new RegExp(/^([Aa-zZ]+)|([0-9]+)|([?,.])$/);
			if(!hutsik.test($("#email").val())){
				alert("Mesedez emaila sartu!");
				return false;
			}
			
			if(!hutsik.test($("#galdera").val())){
				alert("Mesedez galdera sartu!");
				return false;
			}
			
			if(!hutsik.test($("#zuzena").val())){
				alert("Mesedez erantzun zuzena sartu!");
				return false;
			}
			
			if(!hutsik.test($("#okerra1").val())){
				alert("Mesedez erantzun okerra sartu!");
				return false;
			}
			
			if(!hutsik.test($("#okerra2").val())){
				alert("Mesedez erantzun okerra sartu!");
				return false;
			}

			if(!hutsik.test($("#okerra3").val())){
				alert("Mesedez erantzun okerra sartu!");
				return false;
			}	

			if(!hutsik.test($("#zailt").val())){
				alert("Mesedez zailtasuna sartu!");
				return false;
			}

			if(!hutsik.test($("#gaia").val())){
				alert("Mesedez gaia sartu!");
				return false;
			}	
			
			//eposta hizkiak+hiru digitu+@ikasle.ehu.eus
			pattern = new RegExp(/^([a-z]{2,})([0-9]{3})@ikasle\.ehu\.eus$/);
			if(!pattern.test($("#email").val())){
				alert("Email posta ez da egokia.");
				return false;
			}
			//zailtasuna 0-tik 5-era
			pattern2 = new RegExp(/^[0-5]$/);
			if (!pattern2.test($("#zailt").val())){
				alert("Zailtasuna 0-tik 5-ra izan behar da.")
				return false;
			}
			//Galderaren testuaren luzerak gutxienez 10eko luzera izango du.
			pattern3 = new RegExp(/[^']{10,}?/);
			if (!pattern3.test($("#galdera").val())){
				alert("Galderaren testua luzeagoa izan behar da.");
				return false;
			}
			return true;
		});
	});

	</script>
	
	<style>
		.caja{
			position: relative;
			min-height: 550px;
			width: 500px;
			font-family: sans-serif;
			font-size: 16px;
			font-weight: 400;
			color: #ffffff;
			background: #da81f5;
			margin: 2rem auto;
			overflow: hidden;
			padding: 2px;
			border-radius: 50px 0px 50px 0px;
			-moz-border-radius: 35px 0px 35px 0px;
			-webkit-border-radius: 35px 0px 35px 0px;
			border: 6px solid #e2a9f3;
			text-align: center;
		}
	</style>

	<body>
	<div class="caja">
	
		<form id="galderenF" name="galderenF" action="php/proba.php" method="POST">
	
		<h2>Galdera berri bat gehitu:</h2>
		<h6>*-k derrigorrezko eremuak</h6>
		<br>
		<div>
		Egilearen eposta(*): <input type="text" name="email" id="email" value="xxxxxx000@ikasle.ehu.eus" onClick="this.value=''"><br>
		Galderaren testua(*): <input type="text" name="galdera" id="galdera"><br>
		Erantzun zuzena(*): <input type="text" name="zuzena" id="zuzena"><br>
		Erantzun okerra #1(*): <input type="text" name="okerra1" id="okerra1"><br>
		Erantzun okerra #2(*): <input type="text" name="okerra2" id="okerra2"><br>
		Erantzun okerra #3(*): <input type="text" name="okerra3" id="okerra3"><br>
		Galderaren zailtasuna(*): <input type="text" name="zailt" id="zailt"><br>
		Galderaren gai-arloa(*): <input type="text" name="gaia" id="gaia"><br>
		<!--- Galderarekin zer-ikusia duen irudia: <input name="upfile1" id="upfile1" type="file" /><br> --->
		<div id="divMain">
			<div id="divInputLoad">
				<div id="divFileUpload">
					<input id="file-upload" type="file" accept="image/*" />
				</div>
				
				<div id="file-preview-zone">
				</div>
			</div>
		</div>
		<br>
		<input type="submit" name="bidali" value="Bidali"/>
		<input type="reset" value="Ezabatu" />
		</div>
		</form>
		
		

	</div>
	
</body>
<script>
			function readFile(input) {
				if (input.files && input.files[0]) {
					var reader = new FileReader();

					reader.onload = function (e) {
						var filePreview = document.createElement('img');
						filePreview.id = 'file-preview';
						//e.target.result contents the base64 data from the image uploaded
						filePreview.src = e.target.result;
						console.log(e.target.result);

						var previewZone = document.getElementById('file-preview-zone');
						previewZone.appendChild(filePreview);
					}

					reader.readAsDataURL(input.files[0]);
				}
			}

			var fileUpload = document.getElementById('file-upload');
			fileUpload.onchange = function (e) {
				readFile(e.srcElement);
			}

		</script>
</html>